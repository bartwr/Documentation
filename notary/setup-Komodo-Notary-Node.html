<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Setup Komodo Notary Node | Komodo Documentation</title>
    <meta name="description" content="Documentation for developers building on Komodo">
    <link rel="preload" href="/assets/css/0.styles.dda780f8.css" as="style"><link rel="preload" href="/assets/js/app.bb531100.js" as="script"><link rel="preload" href="/assets/js/2.4fa99d13.js" as="script"><link rel="preload" href="/assets/js/137.c3a866a7.js" as="script"><link rel="prefetch" href="/assets/js/10.6322f779.js"><link rel="prefetch" href="/assets/js/100.33fee476.js"><link rel="prefetch" href="/assets/js/101.2a92f8f5.js"><link rel="prefetch" href="/assets/js/102.f6c4d7d7.js"><link rel="prefetch" href="/assets/js/103.98635c6e.js"><link rel="prefetch" href="/assets/js/104.f2e4ce40.js"><link rel="prefetch" href="/assets/js/105.10918f33.js"><link rel="prefetch" href="/assets/js/106.dc441b61.js"><link rel="prefetch" href="/assets/js/107.69f64ed7.js"><link rel="prefetch" href="/assets/js/108.1646cea0.js"><link rel="prefetch" href="/assets/js/109.8486d8a6.js"><link rel="prefetch" href="/assets/js/11.db2bb894.js"><link rel="prefetch" href="/assets/js/110.be34077c.js"><link rel="prefetch" href="/assets/js/111.1b5da44e.js"><link rel="prefetch" href="/assets/js/112.c37bbee9.js"><link rel="prefetch" href="/assets/js/113.ee40a685.js"><link rel="prefetch" href="/assets/js/114.c2c8df42.js"><link rel="prefetch" href="/assets/js/115.a7d3a877.js"><link rel="prefetch" href="/assets/js/116.a5444658.js"><link rel="prefetch" href="/assets/js/117.c71a9212.js"><link rel="prefetch" href="/assets/js/118.801d36cf.js"><link rel="prefetch" href="/assets/js/119.dc81ac72.js"><link rel="prefetch" href="/assets/js/12.40334f71.js"><link rel="prefetch" href="/assets/js/120.dc6300de.js"><link rel="prefetch" href="/assets/js/121.85d14b24.js"><link rel="prefetch" href="/assets/js/122.5dfe81a4.js"><link rel="prefetch" href="/assets/js/123.b669c087.js"><link rel="prefetch" href="/assets/js/124.9dd7ac03.js"><link rel="prefetch" href="/assets/js/125.69fceb0e.js"><link rel="prefetch" href="/assets/js/126.5f0e2e2e.js"><link rel="prefetch" href="/assets/js/127.299008c3.js"><link rel="prefetch" href="/assets/js/128.7cbd9f65.js"><link rel="prefetch" href="/assets/js/129.ee8af486.js"><link rel="prefetch" href="/assets/js/13.6e2f8aae.js"><link rel="prefetch" href="/assets/js/130.fe2f6054.js"><link rel="prefetch" href="/assets/js/131.2179f331.js"><link rel="prefetch" href="/assets/js/132.36b0a867.js"><link rel="prefetch" href="/assets/js/133.f3204e96.js"><link rel="prefetch" href="/assets/js/134.a77df7c8.js"><link rel="prefetch" href="/assets/js/135.7f2910c6.js"><link rel="prefetch" href="/assets/js/136.e0ffdd42.js"><link rel="prefetch" href="/assets/js/138.eff5d654.js"><link rel="prefetch" href="/assets/js/139.0d4001e7.js"><link rel="prefetch" href="/assets/js/14.6deaf881.js"><link rel="prefetch" href="/assets/js/140.d3195997.js"><link rel="prefetch" href="/assets/js/141.a354c61e.js"><link rel="prefetch" href="/assets/js/142.26fcb0e0.js"><link rel="prefetch" href="/assets/js/143.34770729.js"><link rel="prefetch" href="/assets/js/144.6f731075.js"><link rel="prefetch" href="/assets/js/145.e81927e2.js"><link rel="prefetch" href="/assets/js/146.52c3ce9d.js"><link rel="prefetch" href="/assets/js/147.18173611.js"><link rel="prefetch" href="/assets/js/148.88430994.js"><link rel="prefetch" href="/assets/js/149.829d4ad4.js"><link rel="prefetch" href="/assets/js/15.d825e891.js"><link rel="prefetch" href="/assets/js/150.b519799c.js"><link rel="prefetch" href="/assets/js/151.54020248.js"><link rel="prefetch" href="/assets/js/152.dc6b0391.js"><link rel="prefetch" href="/assets/js/153.1c5efd4f.js"><link rel="prefetch" href="/assets/js/154.708436fa.js"><link rel="prefetch" href="/assets/js/16.f4df7526.js"><link rel="prefetch" href="/assets/js/17.676ab0fb.js"><link rel="prefetch" href="/assets/js/18.e876f2c4.js"><link rel="prefetch" href="/assets/js/19.7a75bcd9.js"><link rel="prefetch" href="/assets/js/20.3fdc34cb.js"><link rel="prefetch" href="/assets/js/21.5d69a617.js"><link rel="prefetch" href="/assets/js/22.69499e48.js"><link rel="prefetch" href="/assets/js/23.21c381af.js"><link rel="prefetch" href="/assets/js/24.3342559c.js"><link rel="prefetch" href="/assets/js/25.4d96074a.js"><link rel="prefetch" href="/assets/js/26.3483e35f.js"><link rel="prefetch" href="/assets/js/27.7840334b.js"><link rel="prefetch" href="/assets/js/28.45ee3f67.js"><link rel="prefetch" href="/assets/js/29.975fff7d.js"><link rel="prefetch" href="/assets/js/3.0498bca0.js"><link rel="prefetch" href="/assets/js/30.806bcf7b.js"><link rel="prefetch" href="/assets/js/31.bb48efd3.js"><link rel="prefetch" href="/assets/js/32.f8a0f901.js"><link rel="prefetch" href="/assets/js/33.0e33f654.js"><link rel="prefetch" href="/assets/js/34.d7ce6342.js"><link rel="prefetch" href="/assets/js/35.55d474d2.js"><link rel="prefetch" href="/assets/js/36.7b06b213.js"><link rel="prefetch" href="/assets/js/37.c3192896.js"><link rel="prefetch" href="/assets/js/38.e860663f.js"><link rel="prefetch" href="/assets/js/39.03b75743.js"><link rel="prefetch" href="/assets/js/4.7f6ad74f.js"><link rel="prefetch" href="/assets/js/40.af204627.js"><link rel="prefetch" href="/assets/js/41.236d5840.js"><link rel="prefetch" href="/assets/js/42.6e7984ec.js"><link rel="prefetch" href="/assets/js/43.07c986a9.js"><link rel="prefetch" href="/assets/js/44.04f9e052.js"><link rel="prefetch" href="/assets/js/45.545de077.js"><link rel="prefetch" href="/assets/js/46.ddd82431.js"><link rel="prefetch" href="/assets/js/47.43b8ce34.js"><link rel="prefetch" href="/assets/js/48.3ff3b99b.js"><link rel="prefetch" href="/assets/js/49.64e5115e.js"><link rel="prefetch" href="/assets/js/5.8472b8fb.js"><link rel="prefetch" href="/assets/js/50.83069184.js"><link rel="prefetch" href="/assets/js/51.b7047d3e.js"><link rel="prefetch" href="/assets/js/52.08c63b54.js"><link rel="prefetch" href="/assets/js/53.196e00ee.js"><link rel="prefetch" href="/assets/js/54.eb77a940.js"><link rel="prefetch" href="/assets/js/55.5c8a605e.js"><link rel="prefetch" href="/assets/js/56.f81db196.js"><link rel="prefetch" href="/assets/js/57.87e36f74.js"><link rel="prefetch" href="/assets/js/58.2e9b24d5.js"><link rel="prefetch" href="/assets/js/59.7e543fc7.js"><link rel="prefetch" href="/assets/js/6.d5454c4c.js"><link rel="prefetch" href="/assets/js/60.1c2c859a.js"><link rel="prefetch" href="/assets/js/61.37e26ba9.js"><link rel="prefetch" href="/assets/js/62.624a3feb.js"><link rel="prefetch" href="/assets/js/63.5332cd34.js"><link rel="prefetch" href="/assets/js/64.f13e8d8a.js"><link rel="prefetch" href="/assets/js/65.5ddd8872.js"><link rel="prefetch" href="/assets/js/66.1f61205f.js"><link rel="prefetch" href="/assets/js/67.efb299b1.js"><link rel="prefetch" href="/assets/js/68.6ec8c6fa.js"><link rel="prefetch" href="/assets/js/69.a36f9346.js"><link rel="prefetch" href="/assets/js/7.2cd15201.js"><link rel="prefetch" href="/assets/js/70.8deb4ed2.js"><link rel="prefetch" href="/assets/js/71.a3b5cb09.js"><link rel="prefetch" href="/assets/js/72.58b57c31.js"><link rel="prefetch" href="/assets/js/73.99662b25.js"><link rel="prefetch" href="/assets/js/74.3cedb1f5.js"><link rel="prefetch" href="/assets/js/75.38608c84.js"><link rel="prefetch" href="/assets/js/76.09057cc4.js"><link rel="prefetch" href="/assets/js/77.2e3bfd40.js"><link rel="prefetch" href="/assets/js/78.5752a2fa.js"><link rel="prefetch" href="/assets/js/79.d41ab942.js"><link rel="prefetch" href="/assets/js/8.f76030ea.js"><link rel="prefetch" href="/assets/js/80.6593f11c.js"><link rel="prefetch" href="/assets/js/81.e72c43e3.js"><link rel="prefetch" href="/assets/js/82.cd22b6f7.js"><link rel="prefetch" href="/assets/js/83.fbbcbb62.js"><link rel="prefetch" href="/assets/js/84.1148df1c.js"><link rel="prefetch" href="/assets/js/85.5c5afabe.js"><link rel="prefetch" href="/assets/js/86.03586ed4.js"><link rel="prefetch" href="/assets/js/87.991ff076.js"><link rel="prefetch" href="/assets/js/88.a8e2db6b.js"><link rel="prefetch" href="/assets/js/89.97ce41b9.js"><link rel="prefetch" href="/assets/js/9.86404ed9.js"><link rel="prefetch" href="/assets/js/90.82940dda.js"><link rel="prefetch" href="/assets/js/91.188739db.js"><link rel="prefetch" href="/assets/js/92.943657f3.js"><link rel="prefetch" href="/assets/js/93.8f02c24f.js"><link rel="prefetch" href="/assets/js/94.ab74bb5a.js"><link rel="prefetch" href="/assets/js/95.fa70408d.js"><link rel="prefetch" href="/assets/js/96.11ed06b9.js"><link rel="prefetch" href="/assets/js/97.3ad9f9f5.js"><link rel="prefetch" href="/assets/js/98.916f0462.js"><link rel="prefetch" href="/assets/js/99.3e46794e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dda780f8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Komodo Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/basic-docs/start-here/outline-for-new-developers.html" class="nav-link">Start Here</a></div><div class="nav-item"><a href="/whitepaper/introduction.html" class="nav-link">Whitepaper</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/komodo/installation.html" class="nav-link">Komodo</a></li><li class="dropdown-item"><!----> <a href="/assetchains/beginner-vps-linux.html" class="nav-link">Asset Chains</a></li><li class="dropdown-item"><!----> <a href="/notary/setup-Komodo-Notary-Node.html" class="nav-link router-link-exact-active router-link-active">Notary Nodes</a></li><li class="dropdown-item"><!----> <a href="/mmV1/introduction.html" class="nav-link">Marketmaker V1</a></li></ul></div></div><div class="nav-item"><a href="/cc-jl/introduction.html" class="nav-link">CC Book</a></div><div class="nav-item"><a href="/gui/agama/introduction.html" class="nav-link">Agama</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resources/list-all-KomodoPlatform-repos-links.html" class="nav-link">Komodo Platform</a></li><li class="dropdown-item"><!----> <a href="/resources/third-party-repos-resources.html" class="nav-link">Third Party</a></li></ul></div></div><div class="nav-item"><a href="https://komodoplatform.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KomodoPlatform.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/komodoplatform/Documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/basic-docs/start-here/outline-for-new-developers.html" class="nav-link">Start Here</a></div><div class="nav-item"><a href="/whitepaper/introduction.html" class="nav-link">Whitepaper</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/komodo/installation.html" class="nav-link">Komodo</a></li><li class="dropdown-item"><!----> <a href="/assetchains/beginner-vps-linux.html" class="nav-link">Asset Chains</a></li><li class="dropdown-item"><!----> <a href="/notary/setup-Komodo-Notary-Node.html" class="nav-link router-link-exact-active router-link-active">Notary Nodes</a></li><li class="dropdown-item"><!----> <a href="/mmV1/introduction.html" class="nav-link">Marketmaker V1</a></li></ul></div></div><div class="nav-item"><a href="/cc-jl/introduction.html" class="nav-link">CC Book</a></div><div class="nav-item"><a href="/gui/agama/introduction.html" class="nav-link">Agama</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resources/list-all-KomodoPlatform-repos-links.html" class="nav-link">Komodo Platform</a></li><li class="dropdown-item"><!----> <a href="/resources/third-party-repos-resources.html" class="nav-link">Third Party</a></li></ul></div></div><div class="nav-item"><a href="https://komodoplatform.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KomodoPlatform.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/komodoplatform/Documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Basics</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notary/setup-Komodo-Notary-Node.html" class="active sidebar-link">Setup Komodo Notary Node</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#komodo-notary-nodes" class="sidebar-link">Komodo Notary Nodes</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#requirements" class="sidebar-link">Requirements</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#get-started" class="sidebar-link">Get Started</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#setting-up-supernet-iguana" class="sidebar-link">Setting up SuperNET/Iguana</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#final-steps" class="sidebar-link">Final Steps</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#set-ulimit-parameters-on-ubuntu-permanent" class="sidebar-link">Set ulimit parameters on Ubuntu permanent</a></li><li class="sidebar-sub-header"><a href="/notary/setup-Komodo-Notary-Node.html#n00b-q-a" class="sidebar-link">N00b Q&amp;A</a></li></ul></li><li><a href="/notary/update-Komodo-manually.html" class="sidebar-link">How to update Komodo</a></li><li><a href="/notary/assetchains-guide-Komodo-Notary-Node.html" class="sidebar-link">Assetchains Guide for Notary Nodes</a></li><li><a href="/notary/updating-Komodo-Notary-Node.html" class="sidebar-link">Updating a Komodo Notary Node</a></li><li><a href="/notary/split-utxo-for-notarization.html" class="sidebar-link">How to Split UTXO for Notarization</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Utilities</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="setup-komodo-notary-node"><a href="#setup-komodo-notary-node" aria-hidden="true" class="header-anchor">#</a> Setup Komodo Notary Node</h1> <h2 id="komodo-notary-nodes"><a href="#komodo-notary-nodes" aria-hidden="true" class="header-anchor">#</a> Komodo Notary Nodes</h2> <h3 id="note"><a href="#note" aria-hidden="true" class="header-anchor">#</a> Note</h3> <p>This is still in <em>BETA</em> phase. This is to give you a good understanding on building a Komodo Notary Node. It is possible that some commands could be deprecated by the time you read it.</p> <p>If you have any problems, please join <code>#notarynode</code> on the <a href="https://komodoplatform.com/discord" target="_blank" rel="noopener noreferrer">Komodo Discord<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="requirements"><a href="#requirements" aria-hidden="true" class="header-anchor">#</a> Requirements</h2> <h3 id="hardware"><a href="#hardware" aria-hidden="true" class="header-anchor">#</a> Hardware</h3> <p>Komodo currently only works on Linux. To setup Komodo Notary Node be sure you have a good solid server with the following requirements:</p> <ul><li><p>CPU: A good CPU (Xeon/i7)</p></li> <li><p>RAM: 64GB</p></li> <li><p>Disk: 500GB SSD</p></li> <li><p>Bandwidth: 100Mbps</p></li></ul> <h3 id="operating-system"><a href="#operating-system" aria-hidden="true" class="header-anchor">#</a> Operating System</h3> <p>Debian/Ubuntu x64 LTS minimal installation with Openssh server. <em>This tutorial has been successfully tested with 14.04 and 16.04</em>.</p> <h3 id="security"><a href="#security" aria-hidden="true" class="header-anchor">#</a> Security</h3> <p><em>Before doing anything further, please ensure that your server is secure.</em></p> <ul><li><p>Update the Operating System: <code>sudo apt-get -y update &amp;&amp; sudo apt-get -y upgrade</code></p></li> <li><p>Install <a href="https://www.digitalocean.com/community/tutorials/how-to-protect-ssh-with-fail2ban-on-ubuntu-14-04" target="_blank" rel="noopener noreferrer">Fail2ban<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p>Create an unprivileged user and <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-16-04" target="_blank" rel="noopener noreferrer">install a SSH key<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>Please run processes as an unprivileged user and use sudo where necessary</p></li></ul> <h3 id="bitcoin-funded-address"><a href="#bitcoin-funded-address" aria-hidden="true" class="header-anchor">#</a> Bitcoin funded Address</h3> <p>You'll also need to fund the bitcoin address used with notary node.</p> <p>Each notary node when notarise a block is currently set to use 0.0001 BTC. So, it is best to put some BTC to it if you are participating in testnet of Komodo Notary Nodes.</p> <p>Example:</p> <p><code>0.0001 \* aprox. 144 (btc blocks per day) = aprox. 0.0144</code></p> <h2 id="get-started"><a href="#get-started" aria-hidden="true" class="header-anchor">#</a> Get Started</h2> <p>Log in as the user you made earlier (<code>ssh user@ip_address_of_server</code>)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade <span class="token punctuation">(</span>and say Y when it wants to upgrade stuff<span class="token punctuation">)</span>
</code></pre></div><p>The following packages are needed:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> build-essential pkg-config libc6-dev m4 g++-multilib autoconf libtool ncurses-dev <span class="token function">unzip</span> <span class="token function">git</span> python zlib1g-dev <span class="token function">wget</span> bsdmainutils automake libboost-all-dev libssl-dev libprotobuf-dev protobuf-compiler libqrencode-dev libdb++-dev ntp ntpdate <span class="token function">nano</span> software-properties-common <span class="token function">curl</span> libevent-dev libcurl4-gnutls-dev cmake clang libsodium-dev
</code></pre></div><h3 id="install-nanomsg"><a href="#install-nanomsg" aria-hidden="true" class="header-anchor">#</a> Install <code>nanomsg</code></h3> <p>Libnanomsg needs to be installed.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">git</span> clone https://github.com/nanomsg/nanomsg
<span class="token function">cd</span> nanomsg
cmake <span class="token keyword">.</span> -DNN_TESTS<span class="token operator">=</span>OFF -DNN_ENABLE_DOC<span class="token operator">=</span>OFF
<span class="token function">make</span> -j2
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token function">sudo</span> ldconfig
</code></pre></div><h3 id="compiling-bitcoind"><a href="#compiling-bitcoind" aria-hidden="true" class="header-anchor">#</a> Compiling <code>bitcoind</code></h3> <p>Let us first compile Bitcoind, because it takes some time to sync it all up (around 12 hours)</p> <h5 id="clone-bitcoin-source-code-and-checkout-version-16-x"><a href="#clone-bitcoin-source-code-and-checkout-version-16-x" aria-hidden="true" class="header-anchor">#</a> Clone Bitcoin source-code and checkout version 16.x</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">git</span> clone https://github.com/bitcoin/bitcoin
<span class="token function">cd</span> bitcoin
<span class="token function">git</span> checkout 0.16
</code></pre></div><h5 id="create-a-build-script-called-build-sh-inside-the-bitcoin-dir-for-easy-compiling-and-put-the-contents-below-in-the-script"><a href="#create-a-build-script-called-build-sh-inside-the-bitcoin-dir-for-easy-compiling-and-put-the-contents-below-in-the-script" aria-hidden="true" class="header-anchor">#</a> Create a build script called <code>build.sh</code> inside the <code>bitcoin</code> dir for easy compiling and put the contents below in the script</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
berkeleydb <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BITCOIN_ROOT<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">pwd</span><span class="token variable">)</span></span>
    BITCOIN_PREFIX<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${BITCOIN_ROOT}</span>/db4&quot;</span>
    <span class="token function">mkdir</span> -p <span class="token variable">$BITCOIN_PREFIX</span>
    <span class="token function">wget</span> -N <span class="token string">'http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz'</span>
    <span class="token keyword">echo</span> <span class="token string">'12edc0df75bf9abd7f82f821795bcee50f42cb2e5f76a6a281b85732798364ef db-4.8.30.NC.tar.gz'</span> <span class="token operator">|</span> sha256sum -c
    <span class="token function">tar</span> -xzvf db-4.8.30.NC.tar.gz
    <span class="token function">cd</span> db-4.8.30.NC/build_unix/
    <span class="token punctuation">..</span>/dist/configure -enable-cxx -disable-shared -with-pic -prefix<span class="token operator">=</span><span class="token variable">$BITCOIN_PREFIX</span>
    <span class="token function">make</span> <span class="token function">install</span>
    <span class="token function">cd</span> <span class="token variable">$BITCOIN_ROOT</span>
<span class="token punctuation">}</span>
buildBITCOIN <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">git</span> pull
    <span class="token function">make</span> clean
    ./autogen.sh
    ./configure LDFLAGS<span class="token operator">=</span><span class="token string">&quot;-L<span class="token variable">${BITCOIN_PREFIX}</span>/lib/&quot;</span> CPPFLAGS<span class="token operator">=</span><span class="token string">&quot;-I<span class="token variable">${BITCOIN_PREFIX}</span>/include/&quot;</span> --with-gui<span class="token operator">=</span>no --disable-tests --disable-bench --without-miniupnpc --enable-experimental-asm --enable-static --disable-shared
    <span class="token function">make</span> -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span>
<span class="token punctuation">}</span>
<span class="token function">cd</span> ~/bitcoin
berkeleydb
buildBITCOIN
</code></pre></div><h5 id="make-the-script-executable-and-run-the-script"><a href="#make-the-script-executable-and-run-the-script" aria-hidden="true" class="header-anchor">#</a> Make the script executable and run the script</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> +x build.sh
./build.sh
</code></pre></div><h5 id="symlink-the-binaries"><a href="#symlink-the-binaries" aria-hidden="true" class="header-anchor">#</a> Symlink the binaries</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">ln</span> -sf /home/<span class="token variable">$USER</span>/bitcoin/src/bitcoin-cli /usr/local/bin/bitcoin-cli
<span class="token function">sudo</span> <span class="token function">ln</span> -sf /home/<span class="token variable">$USER</span>/bitcoin/src/bitcoind /usr/local/bin/bitcoind
</code></pre></div><p>Let's create folder <code>.bitcoin</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~/
<span class="token function">mkdir</span> .bitcoin
<span class="token function">cd</span> .bitcoin
<span class="token function">nano</span> bitcoin.conf
</code></pre></div><p>Paste this in your <code>bitcoin.conf</code> (replace rpcuser and rpcpassword)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>server<span class="token operator">=</span>1
daemon<span class="token operator">=</span>1
txindex<span class="token operator">=</span>1
rpcuser<span class="token operator">=</span>bitcoinrpc
rpcpassword<span class="token operator">=</span>password
bind<span class="token operator">=</span>127.0.0.1
rpcbind<span class="token operator">=</span>127.0.0.1
</code></pre></div><p>secure the <code>bitcoin.conf</code> file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> 600 ~/.bitcoin/bitcoin.conf
</code></pre></div><p>Start Bitcoind</p> <div class="language-bash extra-class"><pre class="language-bash"><code>bitcoind -daemon
</code></pre></div><p>check to see if it's downloading the blocks</p> <div class="language-bash extra-class"><pre class="language-bash"><code>bitcoin-cli getblockchaininfo
</code></pre></div><p>This takes some time depending your internet connection. Let it run in the background. Now it is time to install Komodo. Follow each line step by step and ignore the &quot;libgmp headers missing&quot; at some point!</p> <h3 id="installing-komodo"><a href="#installing-komodo" aria-hidden="true" class="header-anchor">#</a> Installing Komodo</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">git</span> clone https://github.com/jl777/komodo
<span class="token function">cd</span> komodo
<span class="token function">git</span> checkout dev
./zcutil/fetch-params.sh
</code></pre></div><p>-j8 uses 8 threads - replace 8 with number of threads you want to use or <code>nproc</code> variable</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./zcutil/build.sh -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span>
</code></pre></div><p>This can take some time.</p> <h3 id="when-it-is-finished-let-s-create-komodo-conf"><a href="#when-it-is-finished-let-s-create-komodo-conf" aria-hidden="true" class="header-anchor">#</a> When it is finished, let's create <code>komodo.conf</code></h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">mkdir</span> .komodo
<span class="token function">cd</span> .komodo
<span class="token function">nano</span> komodo.conf
</code></pre></div><p>Add the following lines to the komodo.conf file (replace rpcuser and rpcpassword)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>rpcuser<span class="token operator">=</span>usernameChangeItToSomethingSecure
rpcpassword<span class="token operator">=</span>passwordChangeItToSomethingSecure
txindex<span class="token operator">=</span>1
server<span class="token operator">=</span>1
daemon<span class="token operator">=</span>1
rpcworkqueue<span class="token operator">=</span>256
</code></pre></div><p>Now let's start the Komodo daemon. Use <code>CTRL-C</code> to get out when you miss your cursor</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~/komodo/src
./komodod <span class="token operator">&amp;</span>
</code></pre></div><h3 id="komodo-is-now-performing-the-initial-blockchain-download"><a href="#komodo-is-now-performing-the-initial-blockchain-download" aria-hidden="true" class="header-anchor">#</a> Komodo is now performing the initial blockchain download</h3> <p>Here are some additional commands which will be handy in the future</p> <p>This will get the stats:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli getinfo
</code></pre></div><p>To stop the daemon:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli stop
</code></pre></div><p>To view komodod output (very handy):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tail</span> -f ~/.komodo/debug.log
</code></pre></div><p>To view all commands</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli <span class="token function">help</span>
</code></pre></div><h2 id="setting-up-supernet-iguana"><a href="#setting-up-supernet-iguana" aria-hidden="true" class="header-anchor">#</a> Setting up SuperNET/Iguana</h2> <p>Personally I prefer to have a full downloaded Bitcoin blockchain. But be sure you stop Bitcoind when you are going to install SuperNET/Iguana!!</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">git</span> clone https://github.com/jl777/SuperNET
<span class="token function">cd</span> SuperNET/iguana
<span class="token function">git</span> checkout dev
./m_LP
</code></pre></div><p>Temporary: start <code>~/SuperNET/agents/iguana</code> just for setup, not for normal NN use, i.e., one time to get the pubkey</p> <div class="language-bash extra-class"><pre class="language-bash"><code>~/SuperNET/agents/iguana
</code></pre></div><p>Open up a new SSH window and login to your server</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~/SuperNET/iguana/coins
./basilisk.old
</code></pre></div><p>if you receive this error: <code>&quot;ERROR BINDING PORT.8332</code> this is normal tcp timeout, unless another process is using port&quot; then you were already running Bitcoind in the background. Stop Iguana and Bitcoind and start the above again.</p> <p>Create an iguana wallet with encryptwallet and importprivkey into both komodod and bitcoind using the KMDwif and BTCwif in the encryptwallet result once you have them installed and running. Put in a really good password and be sure you keep the slash at the end.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> --url <span class="token string">&quot;http://127.0.0.1:7778&quot;</span> --data <span class="token string">&quot;{\&quot;agent\&quot;:\&quot;bitcoinrpc\&quot;,\&quot;method\&quot;:\&quot;encryptwallet\&quot;,\&quot;passphrase\&quot;:\&quot;insert very secure password here\&quot;}&quot;</span>
</code></pre></div><p>Goto to <code>~/SuperNET/iguana</code> and create the executable file &quot;wp&quot;</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~/SuperNET/iguana
<span class="token function">nano</span> wp
</code></pre></div><p>Paste this into your wp file and be sure you set the password that you have made above (watch out for the slash at the end)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> --url <span class="token string">&quot;http://127.0.0.1:7778&quot;</span> --data <span class="token string">&quot;{\&quot;method\&quot;:\&quot;walletpassphrase\&quot;,\&quot;params\&quot;:[\&quot;same passphrase as above\&quot;, 9999999]}&quot;</span>
</code></pre></div><p>Make it executable</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> +x wp
</code></pre></div><p>Run the <code>wp</code> script file</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./wp
</code></pre></div><p>Output example below</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;pubkey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7fa4cbfb3c33981b3015c6d08895fe5769ead9cbfae4b89afab681ab0db15f43&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;RS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NXT-KL8J-EFN2-2BXJ-BUUTB&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;NXT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10729644020227164368&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;btcpubkey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;03a47c429b6fd83dc9687ba409ee6f34823094b97bad4c0f4f60649c55bbdf497b&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rmd160&quot;</span><span class="token operator">:</span> <span class="token string">&quot;58e7000f7d6e4d48e6bf46b1cdb2ad5842232411&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;BTCD&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RHPGGaJML2Ts7TLz6WasK3xSX3XKuKsHeD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;BTC&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1975C4R4jCfJ3SyndLbkDXdEkn4jJibuqK&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;handle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;persistent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7fa4cbfb3c33981b3015c6d08895fe5769ead9cbfae4b89afab681ab0db15f43&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unlocked&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;duration&quot;</span><span class="token operator">:</span> <span class="token number">3600</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14543391360640231809&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In the output of the executed file you will see a lot of data. Get the <strong>btcpubkey (not the pubkey!)</strong> (<code>03a47c429b6fd83dc9687ba409ee6f34823094b97bad4c0f4f60649c55bbdf497b</code>) and send it to Kolo. It is strongly recommended to write the above info somewhere and save it.</p> <p>Create a text file <code>~/SuperNET/iguana/userhome.txt</code> with just this path in it</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">nano</span> ~/SuperNET/iguana/userhome.txt
<span class="token comment"># and put your home folder in it. Mostly it is home/username (without the front and back slash!)</span>
</code></pre></div><p>Copy these files then change them from using port 7778 to 7776</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> ~/SuperNET/iguana/coins/btc ~/SuperNET/iguana/
<span class="token function">cp</span> ~/SuperNET/iguana/coins/kmd ~/SuperNET/iguana/
</code></pre></div><p>Create the wallet passphrase (unlocking) api call at <code>~/SuperNET/iguana/wp_7776</code> - this gets called at notary start up</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">curl</span> --url <span class="token string">&quot;http://127.0.0.1:7776&quot;</span> --data <span class="token string">&quot;{\&quot;method\&quot;:\&quot;walletpassphrase\&quot;,\&quot;params\&quot;:[\&quot;YOUR VERY SECURE PASSPHRASE\&quot;, 9999999]}&quot;</span>
</code></pre></div><p>Now create a new file for the btcpubkey. Enter it as: pubkey=xxxxxxxxxxxxxxxxxxxxxxx</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">nano</span> pubkey.txt
<span class="token function">cp</span> ~/SuperNET/iguana/pubkey.txt ~/komodo/src/pubkey.txt
</code></pre></div><p>We have installed all the things we needed, but we have some configurations to do. Komodo is now mining with his own komodo pubkey, but we have to integrate some stuff into komodo. Let's hope you have copied and pasted the part where you got your btcpubkey etc. somewhere. Bring it back up.</p> <h2 id="final-steps"><a href="#final-steps" aria-hidden="true" class="header-anchor">#</a> Final Steps</h2> <p>While komodo is still mining we can send commands to it. We need to import the privkey of your BTCD address into Komodo. Find your BTCDwif key (do NOT mistake it with your BTCwif). Now let's import it.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">cd</span> komodo
./src/komodo-cli importprivkey BTCDwif
<span class="token comment"># replace BTCDwif with the key you received earlier (like: UvCbPGo2B5QHKgMN5KFRz10sMzbTSXunRTLB9utqGhNFUZrJrEWa)</span>
</code></pre></div><p>To check to see if it imported successfully run</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./src/komodo-cli validateaddress btcdaddress
<span class="token comment"># replace btcdaddress with the address you received earlier (like: RVxtoUT0CXbC1LrtltNAf9yR5yWnFnSPQh)</span>
</code></pre></div><p>if <code>ismine: true</code> it has been successfully imported</p> <p>We have successfully imported the BTCD address into Komodo.</p> <p>Now we have to integrate your BTC privkey into your Bitcoin installation. Be sure Bitcoind is running at this point!</p> <p>Import BTC Priv Key (BTCwif)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>bitcoin-cli importprivkey BTCwif <span class="token operator">&amp;</span>
<span class="token comment"># replace BTCwif with the key you received earlier (like: L3Qm5bB3frS2rdMNtmZrEMReRvYKMReALwxMaf00oz9YahvZaB4a)</span>
</code></pre></div><p>Run the following to confirm it has imported properly.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>bitcoin-cli validateaddress yourbtcaddress
<span class="token comment"># replace yourbtcaddress with the address you received earlier (like: 1MghixZrbhncwLGTIiP3ZdeDKhzBaPUKKu)</span>
</code></pre></div><p>if <code>ismine: true</code> it has been successfully imported</p> <h3 id="import-private-key-into-assetchains"><a href="#import-private-key-into-assetchains" aria-hidden="true" class="header-anchor">#</a> Import private key into assetchains</h3> <p>Import your KMD/BTCD WIF into all assetchains</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">cd</span> komodo/src
./assetchains
<span class="token comment"># wait for the blockchain to fully, will take a long time</span>
./fiat-cli importprivkey BTCDwif
<span class="token comment"># replace BTCDwif with the key you received earlier (like: UvCbPGo2B5QHKgMN5KFRz10sMzbTSXunRTLB9utqGhNFUZrJrEWa)</span>
</code></pre></div><p>This will trigger blockchain rescan and may take a very long time. Wait for the process to be finished.</p> <h3 id="install-chips"><a href="#install-chips" aria-hidden="true" class="header-anchor">#</a> Install Chips</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> software-properties-common autoconf <span class="token function">git</span> build-essential libtool libprotobuf-c-dev libgmp-dev libsqlite3-dev python python3 <span class="token function">zip</span> jq libevent-dev pkg-config libssl-dev libcurl4-gnutls-dev cmake libboost-all-dev -y
<span class="token function">git</span> clone https://github.com/jl777/chips3.git
<span class="token function">cd</span> chips3/
<span class="token function">git</span> checkout dev
</code></pre></div><p>Build Berkeley DB 4.8</p> <div class="language-bash extra-class"><pre class="language-bash"><code>CHIPS_ROOT<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">pwd</span><span class="token variable">)</span></span>
BDB_PREFIX<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${CHIPS_ROOT}</span>/db4&quot;</span>
<span class="token function">mkdir</span> -p <span class="token variable">$BDB_PREFIX</span>
<span class="token function">wget</span> <span class="token string">'http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz'</span>
<span class="token keyword">echo</span> <span class="token string">'12edc0df75bf9abd7f82f821795bcee50f42cb2e5f76a6a281b85732798364ef db-4.8.30.NC.tar.gz'</span> <span class="token operator">|</span> sha256sum -c
<span class="token function">tar</span> -xzvf db-4.8.30.NC.tar.gz
<span class="token function">cd</span> db-4.8.30.NC/build_unix/
<span class="token punctuation">..</span>/dist/configure -enable-cxx -disable-shared -with-pic -prefix<span class="token operator">=</span><span class="token variable">$BDB_PREFIX</span>
<span class="token function">make</span> -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span>
<span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><p>Build Chips</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~/chips3
./autogen.sh
./configure LDFLAGS<span class="token operator">=</span><span class="token string">&quot;-L<span class="token variable">${BDB_PREFIX}</span>/lib/&quot;</span> CPPFLAGS<span class="token operator">=</span><span class="token string">&quot;-I<span class="token variable">${BDB_PREFIX}</span>/include/&quot;</span> -without-gui -without-miniupnpc --disable-tests --disable-bench --with-gui<span class="token operator">=</span>no
<span class="token function">make</span> -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span>
</code></pre></div><p>Create <code>chips.conf</code> file with random username, password, txindex and daemon turned on:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">mkdir</span> .chips
<span class="token function">nano</span> .chips/chips.conf
</code></pre></div><p>Add the following lines into your <code>chips.conf</code> file</p> <div class="language-bash extra-class"><pre class="language-bash"><code>rpcuser<span class="token operator">=</span>chipsuser
rpcpassword<span class="token operator">=</span>passworddrowssap
txindex<span class="token operator">=</span>1
daemon<span class="token operator">=</span>1
addnode<span class="token operator">=</span>5.9.253.195
addnode<span class="token operator">=</span>74.208.210.191
</code></pre></div><p>Symlinking the binaries</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">ln</span> -sf /home/<span class="token variable">$USER</span>/chips3/src/chips-cli /usr/local/bin/chips-cli
<span class="token function">sudo</span> <span class="token function">ln</span> -sf /home/<span class="token variable">$USER</span>/chips3/src/chipsd /usr/local/bin/chipsd
<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/chips-cli
<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/chipsd
</code></pre></div><p>Run!</p> <div class="language-bash extra-class"><pre class="language-bash"><code>chipsd
</code></pre></div><p>Check</p> <div class="language-bash extra-class"><pre class="language-bash"><code>chips-cli getinfo
</code></pre></div><p>Import privkey</p> <div class="language-bash extra-class"><pre class="language-bash"><code>chips-cli importprivkey BTCDwif
<span class="token comment"># replace BTCDwif with the key you received earlier (like: UvCbPGo2B5QHKgMN5KFRz10sMzbTSXunRTLB9utqGhNFUZrJrEWa)</span>
</code></pre></div><h3 id="install-gamecredits"><a href="#install-gamecredits" aria-hidden="true" class="header-anchor">#</a> Install GameCredits</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> software-properties-common autoconf <span class="token function">git</span> build-essential libtool libprotobuf-c-dev libgmp-dev libsqlite3-dev python python3 <span class="token function">zip</span> jq libevent-dev pkg-config libssl-dev libcurl4-gnutls-dev cmake -y
<span class="token function">git</span> clone https://github.com/gamecredits-project/GameCredits
<span class="token function">cd</span> GameCredits/
<span class="token function">git</span> checkout master
</code></pre></div><p>In Debian9 you might need to do <code>sudo apt-get install libssl1.0-dev</code> or compile the openssl and place it in the Gamecredits folder and point <code>gamecreditsd</code> at it, so that it wouldn't interfere with other coin daemons.</p> <p>Build Berkeley DB 4.8</p> <div class="language-bash extra-class"><pre class="language-bash"><code>GAME_ROOT<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">pwd</span><span class="token variable">)</span></span>
BDB_PREFIX<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${GAME_ROOT}</span>/db4&quot;</span>
<span class="token function">mkdir</span> -p <span class="token variable">$BDB_PREFIX</span>
<span class="token function">wget</span> <span class="token string">'http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz'</span>
<span class="token keyword">echo</span> <span class="token string">'12edc0df75bf9abd7f82f821795bcee50f42cb2e5f76a6a281b85732798364ef db-4.8.30.NC.tar.gz'</span> <span class="token operator">|</span> sha256sum -c
<span class="token function">tar</span> -xzvf db-4.8.30.NC.tar.gz
<span class="token function">cd</span> db-4.8.30.NC/build_unix/
<span class="token punctuation">..</span>/dist/configure -enable-cxx -disable-shared -with-pic -prefix<span class="token operator">=</span><span class="token variable">$BDB_PREFIX</span>
<span class="token function">make</span> -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span>
<span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><p>Build GameCredits</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~/GameCredits
./autogen.sh
./configure LDFLAGS<span class="token operator">=</span><span class="token string">&quot;-L<span class="token variable">${BDB_PREFIX}</span>/lib/&quot;</span> CPPFLAGS<span class="token operator">=</span><span class="token string">&quot;-I<span class="token variable">${BDB_PREFIX}</span>/include/&quot;</span> -without-gui -without-miniupnpc --disable-tests --disable-bench --with-gui<span class="token operator">=</span>no
<span class="token function">make</span> -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span>
</code></pre></div><p>Create <code>gamecredits.conf</code> file with random username, password, txindex and daemon turned on:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cd</span> ~
<span class="token function">mkdir</span> .gamecredits
<span class="token function">nano</span> .gamecredits/gamecredits.conf
</code></pre></div><p>Add the following lines into your <code>gamecredits.conf</code> file</p> <div class="language-bash extra-class"><pre class="language-bash"><code>rpcuser<span class="token operator">=</span>gamecreditsuser
rpcpassword<span class="token operator">=</span>passworddrowssap
txindex<span class="token operator">=</span>1
daemon<span class="token operator">=</span>1
bind<span class="token operator">=</span>127.0.0.1
rpcbind<span class="token operator">=</span>127.0.0.1
addnode<span class="token operator">=</span>x.x.x.x
addnode<span class="token operator">=</span>y.y.y.y
</code></pre></div><p>Symlinking the binaries</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">ln</span> -sf /home/<span class="token variable">$USER</span>/GameCredits/src/gamecredits-cli /usr/local/bin/gamecredits-cli
<span class="token function">sudo</span> <span class="token function">ln</span> -sf /home/<span class="token variable">$USER</span>/GameCredits/src/gamecreditsd /usr/local/bin/gamecreditsd
<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/gamecredits-cli
<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/gamecreditsd
</code></pre></div><p>Run!</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gamecreditsd
</code></pre></div><p>Check</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gamecredits-cli getinfo
</code></pre></div><p>Import privkey</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gamecredits-cli importprivkey GAMEwif
<span class="token comment"># replace GAMEwif with the key you received earlier (like: UvCbPGo2B5QHKgMN5KFRz10sMzbTSXunRTLB9utqGhNFUZrJrEWa)</span>
</code></pre></div><p>Now we need to chain everything together. Pondsea came up with a nice handy little script. So let's start</p> <p>Create a script file at <code>/home/username/</code> and name it start</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">nano</span> start
</code></pre></div><p>Paste into file and replace the pubkey with your <code>btcpubkey</code> and save it.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>bitcoind <span class="token operator">&amp;</span>
chipsd -pubkey<span class="token operator">=</span><span class="token string">&quot;0225aa6f6f19e543180b31153d9e6d55d41bc7ec2ba191fd29f19a2f973544e29d&quot;</span> <span class="token operator">&amp;</span>
gamecreditsd -pubkey<span class="token operator">=</span><span class="token string">&quot;0225aa6f6f19e543180b31153d9e6d55d41bc7ec2ba191fd29f19a2f973544e29d&quot;</span> <span class="token operator">&amp;</span>
<span class="token function">cd</span> komodo
./src/komodod -gen -genproclimit<span class="token operator">=</span>1 -notary -pubkey<span class="token operator">=</span><span class="token string">&quot;0225aa6f6f19e543180b31153d9e6d55d41bc7ec2ba191fd29f19a2f973544e29d&quot;</span> <span class="token operator">&amp;</span>
</code></pre></div><p>Make it executable</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chmod</span> +x start
</code></pre></div><p>This should bind all the tech stuff together, but not before we make some tweaking to the system. Hagbard came up with the following tweak.</p> <h2 id="set-ulimit-parameters-on-ubuntu-permanent"><a href="#set-ulimit-parameters-on-ubuntu-permanent" aria-hidden="true" class="header-anchor">#</a> Set <code>ulimit</code> parameters on Ubuntu permanent</h2> <p>By default the number of open files per user in Ubuntu is 1024. In our case this number is too small so you have to increase it.</p> <p>This is done with the <code>ulimit</code> command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$ulimit</span> -a   <span class="token comment"># see all the kernel parameters</span>
<span class="token variable">$ulimit</span> -n   <span class="token comment"># see the number of open files</span>
<span class="token variable">$ulimit</span> -n 1000000  <span class="token comment">#  set the number open files to 1000000</span>
</code></pre></div><p>The problem with this way is that the <code>ulimit</code> parameter is only set currently for this command terminal and user. This means that after a reboot you’ll need to set the parameter again. Do the following to set it permanent:</p> <p>edit <code>/etc/security/limits.conf</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/security/limits.conf
</code></pre></div><p>add these lines:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>* soft nofile 1000000
* hard nofile 1000000
</code></pre></div><p>save and close file</p> <p>edit <code>/etc/pam.d/common-session</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">nano</span> /etc/pam.d/common-session
</code></pre></div><p>add this line:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>session required pam_limits.so
</code></pre></div><p>save and close file</p> <p>reboot &amp; check:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">ulimit</span> -n
</code></pre></div><p>We are done. Now let's reboot the server and chain everything together with the start script and m_notary</p> <p>When the server is rebooted and you are logged in as user (and lands into your home dir)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./start
CTRL-C
<span class="token function">cd</span> komodo/src
./assetchains
<span class="token comment"># and wait 15 minutes before you go to the next step</span>
<span class="token function">cd</span> ~/SuperNET/iguana
<span class="token function">git</span> checkout dev <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> pull <span class="token operator">&amp;&amp;</span> ./m_notary <span class="token operator">&amp;</span>
<span class="token comment"># wait until you see `INIT with 64 notaries`</span>
<span class="token function">cd</span> ~/komodo/src <span class="token operator">&amp;&amp;</span> ./dpowassets
</code></pre></div><p>We are done! If you have given the btcpubkey to James and he has added it to the <code>notaries.h</code> files located (<a href="https://github.com/jl777/SuperNET/blob/master/iguana/notaries.h" target="_blank" rel="noopener noreferrer">jl777/SuperNET:iguana/notaries.h@master<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) everything should work now.</p> <h2 id="n00b-q-a"><a href="#n00b-q-a" aria-hidden="true" class="header-anchor">#</a> N00b Q&amp;A</h2> <ul><li>I receive &quot;null utxo array size&quot; as output when i start script start2 You have to fund your BTC wallet with 0.01btc. Send your BTC address to James and he will fund it.</li> <li>If I did not initially run bitcoind or komodod with txindex=1, then should I add that to .conf and rescan blockchain or something? Yes, you need to launch it with -reindex in the command line arg (like bitcoind -reindex &amp;)</li> <li>When i start Iguana, i see a message that my IP is dead. Is it? It isn't 😉 just start de start2 script and it's alive.</li> <li>When i log out of my server and log back in again after i while, the Iguana proces has been killed, why? I do not know why, i had this problem myself. Contact BadAss for a solution for this.</li> <li>I get all kinds of strange warnings in the output of start2. Did i broke something? Rule nr.1, if you do not see any ERROR's, let it run. James is busy with debugging the code. Do you see warnings, then let it run. If you don't trust it, restart it again.</li> <li>My Iguana process gets killed by a buffer overflow error. Do i have to start over again? No, just go to ~/SuperNET and do a git pull.</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/komodoplatform/Documentation/edit/master/docs/notary/setup-Komodo-Notary-Node.md" target="_blank" rel="noopener noreferrer">Suggest an improvement for this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/notary/update-Komodo-manually.html">
          How to update Komodo
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.bb531100.js" defer></script><script src="/assets/js/2.4fa99d13.js" defer></script><script src="/assets/js/137.c3a866a7.js" defer></script>
  </body>
</html>
